{"id":"dec-56153ab9","timestamp":"2026-02-10T03:48:04Z","session_id":"session-07ed6a2f","decision":"Use lib/store.sh for storage logic","rationale":"Separation of concerns","alternatives":[],"outcome":"pending","type":"implementation","entities":["/workspace/lineage/journal/lib/store.sh","journal/lib/store.sh","lib/store.sh"],"tags":[],"lesson_learned":null,"related_decisions":["dec-5741815d"],"git_commit":"d0fb77c317020d6299e43e925ecac267a88c815c"}
{"id":"dec-5741815d","timestamp":"2026-02-10T03:48:04Z","session_id":"session-07ed6a2f","decision":"Use JSONL for decision storage","rationale":"Simpler than SQLite, append-only is sufficient","alternatives":["SQLite","JSON file","PostgreSQL"],"outcome":"successful","type":"implementation","entities":[],"tags":["architecture","storage"],"lesson_learned":"JSONL worked great for append-only but needs periodic compaction","related_decisions":["dec-56153ab9"],"git_commit":"d0fb77c317020d6299e43e925ecac267a88c815c"}
{"id":"dec-5a3bd125","timestamp":"2026-02-10T03:48:04Z","session_id":"session-07ed6a2f","decision":"Add indexing layer for faster queries","rationale":"Full-text search too slow on large datasets","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["performance"],"lesson_learned":null,"related_decisions":[],"git_commit":"d0fb77c317020d6299e43e925ecac267a88c815c"}
{"id":"dec-6e3a04ab","timestamp":"2026-02-10T03:49:12Z","session_id":"session-07ed6a2f","decision":"Use inline format","rationale":"easier to type","alternatives":["flags only"],"outcome":"pending","type":"refactor","entities":[],"tags":[],"lesson_learned":null,"related_decisions":[],"git_commit":"d0fb77c317020d6299e43e925ecac267a88c815c"}
{"id":"dec-41560b9d","timestamp":"2026-02-10T03:51:28Z","session_id":"session-07ed6a2f","decision":"Built Lineage system","rationale":"Memory that compounds across sessions","alternatives":["Manual notes","CLAUDE.md only"],"outcome":"pending","type":"architecture","entities":[],"tags":[],"lesson_learned":null,"related_decisions":[],"git_commit":"d0fb77c317020d6299e43e925ecac267a88c815c"}
{"id":"dec-7419a028","timestamp":"2026-02-10T06:30:37Z","session_id":"session-07ed6a2f","decision":"Goal created: Fix awk multiline bug in Lineage patterns capture","rationale":"Priority: high","alternatives":[],"outcome":"completed","type":"planning","entities":[],"tags":["oracle","goal","created"],"lesson_learned":"Fixed in 20274ce by replacing awk -v with ENVIRON","related_decisions":[],"git_commit":"35eb0fca61570c23580af75cf72de6fa1a98c801"}
{"id":"dec-2d0c56d9","timestamp":"2026-02-10T07:30:37Z","session_id":"session-07ed6a2f","decision":"ADR: Decision-Making Cheat Sheet","rationale":"Seat: critic","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"e249e1811aaa01f200da4f1dbe44784040ddd578"}
{"id":"dec-4ae06cad","timestamp":"2026-02-10T07:30:37Z","session_id":"session-07ed6a2f","decision":"ADR: IC Career Advancement Cheat Sheet","rationale":"Seat: critic","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"e249e1811aaa01f200da4f1dbe44784040ddd578"}
{"id":"dec-b36bc7af","timestamp":"2026-02-10T07:30:37Z","session_id":"session-07ed6a2f","decision":"ADR: Influence Without Authority Cheat Sheet","rationale":"Seat: ambassador","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"e249e1811aaa01f200da4f1dbe44784040ddd578"}
{"id":"dec-dc9f7bcf","timestamp":"2026-02-10T07:30:37Z","session_id":"session-07ed6a2f","decision":"ADR: Making Invisible Work Visible Cheat Sheet","rationale":"Seat: ambassador","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"e249e1811aaa01f200da4f1dbe44784040ddd578"}
{"id":"dec-1a671c16","timestamp":"2026-02-10T07:30:38Z","session_id":"session-07ed6a2f","decision":"ADR: Architecture","rationale":"Seat: mainstay","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"e249e1811aaa01f200da4f1dbe44784040ddd578"}
{"id":"dec-69a21d5b","timestamp":"2026-02-10T07:30:38Z","session_id":"session-07ed6a2f","decision":"ADR: Risk","rationale":"Seat: marshal","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"e249e1811aaa01f200da4f1dbe44784040ddd578"}
{"id":"dec-9347e073","timestamp":"2026-02-10T07:30:38Z","session_id":"session-07ed6a2f","decision":"ADR: Disagreement Cheat Sheet","rationale":"Seat: critic","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"e249e1811aaa01f200da4f1dbe44784040ddd578"}
{"id":"dec-bd74c8db","timestamp":"2026-02-10T07:30:38Z","session_id":"session-07ed6a2f","decision":"ADR: Building Lineage","rationale":"Seat: mentor","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"e249e1811aaa01f200da4f1dbe44784040ddd578"}
{"id":"dec-45095743","timestamp":"2026-02-10T07:49:05Z","session_id":"session-07ed6a2f","decision":"ADR: Dev Directory Navigation Tooling","rationale":"Seat: wayfinder","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"96a3e0c05ef8359357e403fa3b27e102725caad4"}
{"id":"dec-0ec274c5","timestamp":"2026-02-10T09:32:30Z","session_id":"session-07ed6a2f","decision":"Mission generated: Fix awk multiline bug in Lineage patterns capture - patterns.sh capture adds ... (from goal goal-1770705037-7cc707db)","rationale":null,"alternatives":[],"outcome":"completed","type":"planning","entities":["patterns.sh"],"tags":["oracle","mission","generated"],"lesson_learned":null,"related_decisions":[],"git_commit":"614e1c907d163b636226e78eed002e92ba9a928a"}
{"id":"dec-a755d607","timestamp":"2026-02-10T09:32:30Z","session_id":"session-07ed6a2f","decision":"Mission generated: Fix awk multiline bug in Lineage patterns capture - Multiline pattern content... (from goal goal-1770705037-7cc707db)","rationale":null,"alternatives":[],"outcome":"completed","type":"planning","entities":[],"tags":["oracle","mission","generated"],"lesson_learned":null,"related_decisions":[],"git_commit":"614e1c907d163b636226e78eed002e92ba9a928a"}
{"id":"dec-59749c70","timestamp":"2026-02-10T13:47:06Z","session_id":"session-07ed6a2f","decision":"Goal created: Test yq fix","rationale":"Priority: medium","alternatives":[],"outcome":"pending","type":"planning","entities":[],"tags":["oracle","goal","created"],"lesson_learned":null,"related_decisions":[],"git_commit":"614e1c907d163b636226e78eed002e92ba9a928a"}
{"id":"dec-fb3a0bdf","timestamp":"2026-02-11T05:04:38Z","session_id":"session-07ed6a2f","decision":"ADR: Loop","rationale":"Seat: mainstay","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"cb3d5be698769e2f550c84f2a5386da604883c5c"}
{"id":"dec-8bed49fc","timestamp":"2026-02-11T05:49:12Z","session_id":"session-07ed6a2f","decision":"ADR: State","rationale":"Seat: mainstay","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"799239a329ed5cb15f3cd2d1080766687a9b2082"}
{"id":"dec-d0391f8a","timestamp":"2026-02-12T15:07:08Z","session_id":"session-07ed6a2f","decision":"ADR: Dev Directory Navigation Tooling","rationale":"Seat: wayfinder","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"cc92854fab65ebe7770d1eeb299774be171ba6d7"}
{"id":"dec-4cfb676c","timestamp":"2026-02-13T05:48:03Z","session_id":"session-07ed6a2f","decision":"Archive Ralph -- Claude Code agent teams supersede custom loop orchestration","rationale":"Claude Code's native agent-teams feature provides the orchestration harness Ralph was built to be. SIGNAL_CONTRACT stays with Flow, TASK_CONTRACT stays with Bach. Council simplifies from three-node pipeline to two-node collaboration under native harness.","alternatives":[],"outcome":"accepted","type":"implementation","entities":[],"tags":["lore","ralph","council","architecture"],"lesson_learned":null,"related_decisions":[],"git_commit":"7296e07ed2e30ba6a174a1c7654c29188afe1dbe"}
{"id":"dec-31a8b7ed","timestamp":"2026-02-13T14:11:39Z","session_id":"session-07ed6a2f","decision":"ADR: Critique","rationale":"Seat: critic","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"878400882f378878394dd7e64eefcd5b45bbbe36"}
{"id":"dec-91504739","timestamp":"2026-02-13T14:11:58Z","session_id":"session-07ed6a2f","decision":"ADR: Worker","rationale":"Seat: mainstay","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"e964468c149f85184593c72da9e71e2ec50ec4da"}
{"id":"dec-01d3cc88","timestamp":"2026-02-13T14:21:21Z","session_id":"session-07ed6a2f","decision":"ADR: Pipeline","rationale":"Seat: mainstay","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"3e757d6258d9b71d76ee6fc81d6320cf3584ba0b"}
{"id":"dec-321eaa31","timestamp":"2026-02-13T15:13:38Z","session_id":"session-07ed6a2f","decision":"ADR: Critique","rationale":"Seat: critic","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"ac55c5939fd65a477f1bff88dd436c9508ae7132"}
{"id":"dec-d106c4d7","timestamp":"2026-02-13T15:13:38Z","session_id":"session-07ed6a2f","decision":"ADR: Flow SDK Migration","rationale":"Seat: wayfinder","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"ac55c5939fd65a477f1bff88dd436c9508ae7132"}
{"id":"dec-31a8b7ed","timestamp":"2026-02-13T14:11:39Z","session_id":"session-07ed6a2f","decision":"ADR: Critique","rationale":"Seat: critic. Defines Rapoport's Rules, Sagan's Baloney Detection Kit, cognitive bias countermeasures, Socratic questioning as the Critic seat's operational philosophy.","alternatives":[],"outcome":"accepted","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"e964468c149f85184593c72da9e71e2ec50ec4da"}
{"id":"dec-91504739","timestamp":"2026-02-13T14:11:58Z","session_id":"session-07ed6a2f","decision":"ADR: Worker","rationale":"Seat: mainstay. Formalizes the stateless-specialist pattern: task envelopes in, result envelopes out. Incapability signaling over silent failure. Four worker types: researcher, coder, reviewer, tester.","alternatives":[],"outcome":"accepted","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":["dec-01d3cc88"],"git_commit":"3e757d6258d9b71d76ee6fc81d6320cf3584ba0b"}
{"id":"dec-01d3cc88","timestamp":"2026-02-13T14:21:21Z","session_id":"session-07ed6a2f","decision":"ADR: Pipeline","rationale":"Seat: mainstay. Formalizes adjacent-only coupling with narrow contracts. Three pipelines: Council (Harness→Flow→Bach), Orchestration (Oracle→Lore→Neo→Council), Forge (spec-trace→GSD→coalesce).","alternatives":[],"outcome":"accepted","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":["dec-91504739"],"git_commit":"ddf797d"}
{"id":"dec-321eaa31","timestamp":"2026-02-13T15:13:38Z","session_id":"session-07ed6a2f","decision":"ADR: Critique (duplicate — corrected in dec-31a8b7ed)","rationale":"Superseded by corrected entry","alternatives":[],"outcome":"revised","type":"architecture","entities":[],"tags":["council","adr","revised"],"lesson_learned":"Off-by-one in batch ingestion shifted git commit hashes","related_decisions":["dec-31a8b7ed"],"git_commit":"ac55c5939fd65a477f1bff88dd436c9508ae7132"}
{"id":"dec-041f8803","timestamp":"2026-02-13T17:05:49Z","session_id":"session-07ed6a2f","decision":"ADR: Config (duplicate — superseded by dec-ec65361e)","rationale":"Seat: mainstay","alternatives":[],"outcome":"revised","type":"architecture","entities":[],"tags":["council","adr","revised"],"lesson_learned":"Duplicate from batch ingestion","related_decisions":["dec-ec65361e"],"git_commit":"4b05f7658872c878fff31e50582ca568e64b655d"}
{"id":"dec-52af8c9b","timestamp":"2026-02-13T17:05:49Z","session_id":"session-07ed6a2f","decision":"ADR: Documentation","rationale":"Seat: mainstay","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"4b05f7658872c878fff31e50582ca568e64b655d"}
{"id":"dec-0b54765d","timestamp":"2026-02-13T17:05:49Z","session_id":"session-07ed6a2f","decision":"ADR: Yeoman","rationale":"Seat: mainstay","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"4b05f7658872c878fff31e50582ca568e64b655d"}
{"id":"dec-e344a0f8","timestamp":"2026-02-13T17:05:49Z","session_id":"session-07ed6a2f","decision":"ADR: Transfer","rationale":"Seat: mentor. Defines the closed loop (Write→Store→Retrieve→Apply) and diagnoses write-only systems. Four context layers: static, session, project, action.","alternatives":[],"outcome":"accepted","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":["dec-b6421f25"],"git_commit":"4b05f7658872c878fff31e50582ca568e64b655d"}
{"id":"dec-a96328e3","timestamp":"2026-02-13T17:05:50Z","session_id":"session-07ed6a2f","decision":"ADR: Exploration","rationale":"Seat: wayfinder","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"4b05f7658872c878fff31e50582ca568e64b655d"}
{"id":"dec-0fa1ce9f","timestamp":"2026-02-14T17:47:27Z","session_id":"session-07ed6a2f","decision":"ADR: Operations","rationale":"Seat: marshal. Four domains: credential delegation, hook design, container isolation, audit logging. Trust nothing, verify everything.","alternatives":[],"outcome":"accepted","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"009a165c00726c650b143c6c47b16235b8b6472e"}
{"id":"dec-b6421f25","timestamp":"2026-02-14T17:47:27Z","session_id":"session-07ed6a2f","decision":"ADR: Sessions","rationale":"Seat: mentor. Defines session lifecycle (Resume→Work→Handoff). Sessions compound; conversations evaporate.","alternatives":[],"outcome":"accepted","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":["dec-e344a0f8"],"git_commit":"009a165c00726c650b143c6c47b16235b8b6472e"}
{"id":"dec-861f8e18","timestamp":"2026-02-14T17:47:27Z","session_id":"session-07ed6a2f","decision":"ADR: Dev Directory Navigation Tooling","rationale":"Seat: wayfinder","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"009a165c00726c650b143c6c47b16235b8b6472e"}
{"id":"dec-ce57f71f","timestamp":"2026-02-14T17:47:27Z","session_id":"session-07ed6a2f","decision":"ADR: Flow SDK Migration","rationale":"Seat: wayfinder","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"009a165c00726c650b143c6c47b16235b8b6472e"}
{"id":"dec-9e9b7abc","timestamp":"2026-02-14T17:47:27Z","session_id":"session-07ed6a2f","decision":"ADR: Exploration","rationale":"Seat: wayfinder","alternatives":[],"outcome":"pending","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"009a165c00726c650b143c6c47b16235b8b6472e"}
{"id":"dec-ec65361e","timestamp":"2026-02-15T02:40:29Z","session_id":"session-07ed6a2f","decision":"ADR: Config","rationale":"Seat: mainstay. Assigns formats to consumers: TOML for app config, YAML for registries, JSON for tool output, Makefiles for build entry, env vars for deploy overrides.","alternatives":[],"outcome":"accepted","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"2585beb2de41f2d0fe496023cce8881d9e3dfa4d"}
{"id":"dec-1fe94443","timestamp":"2026-02-15T02:40:30Z","session_id":"session-07ed6a2f","decision":"ADR: Ecosystem","rationale":"Seat: mainstay. Three pillars (Data, Control, Action) with five core projects: Lore, Mirror, Neo, Bach. Every project answers to exactly one pillar.","alternatives":[],"outcome":"accepted","type":"architecture","entities":[],"tags":["council","adr","accepted"],"lesson_learned":null,"related_decisions":[],"git_commit":"2585beb2de41f2d0fe496023cce8881d9e3dfa4d"}
{"id":"dec-d8d670e6","timestamp":"2026-02-16T05:19:44Z","session_id":"session-07ed6a2f","decision":"Implement Phase 2 vector embeddings using Ollama nomic-embed-text model","rationale":"Semantic search enables finding conceptually related content without keyword matches. Ollama runs locally without API costs or network requirements. nomic-embed-text produces 768-dimensional embeddings with good quality for this use case.","alternatives":["sqlite-vec (not available)","OpenAI embeddings (API costs","network required)"],"outcome":"pending","type":"naming","entities":[],"tags":["lore","retrieval","embeddings","ollama"],"lesson_learned":null,"related_decisions":[],"git_commit":"f36adeb8a98507949f2a82548ac10462b9f55e84"}
{"id":"dec-09a964a5","timestamp":"2026-02-16T05:31:01Z","session_id":"session-07ed6a2f","decision":"Implement Phase 3 graph-enhanced recall with BFS traversal and edge-weighted scoring","rationale":"Graph expansion surfaces related knowledge that keyword and semantic search miss. Starting from search results or graph node matches, BFS traversal follows edges up to configurable depth. Score decay (0.7^hop) and edge type weights ensure direct matches rank higher than distant relationships.","alternatives":[],"outcome":"pending","type":"naming","entities":[],"tags":["lore","retrieval","graph"],"lesson_learned":null,"related_decisions":[],"git_commit":"6c58e114b25dbe2a7c3e576ea6b7e9c35417e888"}
{"id":"dec-65cf3aad","timestamp":"2026-02-16T16:42:53Z","session_id":"session-example","decision":"Entire checkpoint 699508ff13: 1 session(s) on main, files: LINEAGE_CONTRACT.md, LORE_CONTRACT.md, lineage.sh, mani.yaml","rationale":"Tokens: 1940 in / 12032 out","alternatives":[],"outcome":"pending","type":"other","entities":["LINEAGE_CONTRACT.md","lineage.sh","LORE_CONTRACT.md","mani.yaml"],"tags":["entire","checkpoint:699508ff13","branch:main"],"lesson_learned":null,"related_decisions":[],"git_commit":"efc489c265379f6cebe18093498da4a8b9599775"}
{"id":"dec-8b914576","timestamp":"2026-02-16T19:39:37Z","session_id":"session-example","decision":"Adopt Sovereign Bridge architecture for Claude Code integration","rationale":"Lore owns the *what* and *why* (intent, decisions, patterns, failures). Claude Code owns the *how* and *when* (task execution). Spec files serve as contracts between layers — they define goals, success criteria, context, and done conditions without prescribing implementation. This separation prevents coupling between memory/context and execution, allows different agents to interpret specs independently, and keeps Lore as the single source of truth for strategic direction.","alternatives":["Direct tasks.json export (rejected: couples Lore to Claude Code's internal format)","Real-time MCP delegation (rejected: creates runtime dependency)","Shared database (rejected: violates single-writer principle)"],"outcome":"pending","type":"architecture","entities":[],"tags":["architecture","integration","claude-code","mcp","lore"],"lesson_learned":null,"related_decisions":[],"git_commit":"31337677f0332c04d4b15ca4df53a1bcac54345a"}
{"id":"dec-efb724e6","timestamp":"2026-02-16T20:18:53Z","session_id":"session-example","decision":"Fork-on-resume: resume creates new session inheriting context from parent","rationale":"Historical sessions become immutable after handoff. New work writes to forked session with parent_session link, preventing pollution of example/historical data.","alternatives":["Explicit --continue flag","protect patterns for *example* names","require init before work"],"outcome":"pending","type":"implementation","entities":[],"tags":["transfer","sessions","architecture"],"lesson_learned":null,"related_decisions":[],"git_commit":"b192f2741f238af59a7a247027b957bf3976de35"}
